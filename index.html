<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Report - B-Tech 4th Year</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <div class="container">
            <h1 class="main-title">DAILY REPORT - 4TH YEAR</h1>
            <h2 class="college-name">KAKINADA INSTITUTE OF ENGINEERING TECHNOLOGIES</h2>
            <h3 class="subtitle">IV B-TECH CLASS SCHEDULE-DAILY REPORT</h3>
            
            <!-- Top-right menu -->
            <div class="menu-container">
                <button class="menu-btn" id="menuBtn">⋮</button>
                <div class="menu-dropdown hidden" id="menuDropdown">
                    <button class="menu-item" id="exportBtn">Export CSV</button>
                    <button class="menu-item" id="shareBtn">Share</button>
                    <button class="menu-item" id="accessBtn" style="display: none;">Manage Access</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Date Picker -->
        <div class="date-section">
            <label for="reportDate" class="form-label">Report Date:</label>
            <input type="date" id="reportDate" class="form-control date-input" value="2025-07-30">
        </div>

        <!-- Table 1: CRT Classes -->
        <section class="table-section">
            <div class="table-header">
                <h4 class="table-heading">CRT CLASSES</h4>
                <button class="edit-btn hidden" id="editBtn1" data-table="1">EDIT</button>
            </div>
            <div class="table-wrapper">
                <table class="report-table" id="table1">
                    <thead>
                        <tr>
                            <th>CLASS</th>
                            <th>1ST HOUR (9:00-10:30)</th>
                            <th>2ND HOUR (10:30-12:00)</th>
                            <th>3RD HOUR (1:00-4:00)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-row-odd">
                            <td class="class-column">AID(GCC)</td>
                            <td class="editable-cell" data-table="1" data-row="0" data-col="1"></td>
                            <td class="editable-cell" data-table="1" data-row="0" data-col="2"></td>
                            <td class="editable-cell" data-table="1" data-row="0" data-col="3"></td>
                        </tr>
                        <tr class="table-row-even">
                            <td class="class-column">CSM(K-HUB)</td>
                            <td class="editable-cell" data-table="1" data-row="1" data-col="1"></td>
                            <td class="editable-cell" data-table="1" data-row="1" data-col="2"></td>
                            <td class="editable-cell" data-table="1" data-row="1" data-col="3"></td>
                        </tr>
                        <tr class="table-row-odd">
                            <td class="class-column">CSD(CYBER CREW)</td>
                            <td class="editable-cell" data-table="1" data-row="2" data-col="1"></td>
                            <td class="editable-cell" data-table="1" data-row="2" data-col="2"></td>
                            <td class="editable-cell" data-table="1" data-row="2" data-col="3"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Table 2: No heading -->
        <section class="table-section table-gap">
            <div class="table-header">
                <button class="edit-btn hidden" id="editBtn2" data-table="2">EDIT</button>
            </div>
            <div class="table-wrapper">
                <table class="report-table" id="table2">
                    <thead>
                        <tr>
                            <th>CLASS</th>
                            <th>1ST HOUR (9:00-12:00)</th>
                            <th>2ND HOUR (1:00-2:30)</th>
                            <th>3RD HOUR (2:30-4:00)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-row-odd">
                            <td class="class-column">CAI(A-212)</td>
                            <td class="editable-cell" data-table="2" data-row="0" data-col="1"></td>
                            <td class="editable-cell" data-table="2" data-row="0" data-col="2"></td>
                            <td class="editable-cell" data-table="2" data-row="0" data-col="3"></td>
                        </tr>
                        <tr class="table-row-even">
                            <td class="class-column">CSC(seminar hall-2)</td>
                            <td class="editable-cell" data-table="2" data-row="1" data-col="1"></td>
                            <td class="editable-cell" data-table="2" data-row="1" data-col="2"></td>
                            <td class="editable-cell" data-table="2" data-row="1" data-col="3"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Table 3: Non-CRT Classes -->
        <section class="table-section table-gap">
            <div class="table-header">
                <h4 class="table-heading">NON CRT CLASSES DAILY REPORT</h4>
                <button class="edit-btn hidden" id="editBtn3" data-table="3">EDIT</button>
            </div>
            <div class="table-wrapper">
                <table class="report-table" id="table3">
                    <thead>
                        <tr>
                            <th>CLASS</th>
                            <th>1ST HOUR (8:40-10:30)</th>
                            <th>2ND HOUR (10:30-12:00)</th>
                            <th>3RD HOUR (1:30-2:30)</th>
                            <th>4TH HOUR (2:30-4:00)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-row-odd">
                            <td class="class-column">nonCRT class 1 (A-210)</td>
                            <td class="editable-cell" data-table="3" data-row="0" data-col="1"></td>
                            <td class="editable-cell" data-table="3" data-row="0" data-col="2"></td>
                            <td class="editable-cell" data-table="3" data-row="0" data-col="3"></td>
                            <td class="editable-cell" data-table="3" data-row="0" data-col="4"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Action Buttons -->
        <section class="action-section">
            <div class="button-group">
                <button class="btn btn--primary" id="saveBtn">Save</button>
                <button class="btn btn--secondary" id="viewReportsBtn">View Saved Reports</button>
            </div>
        </section>
    </main>

    <!-- Loading Spinner -->
    <div class="loading-spinner hidden" id="loadingSpinner">
        <div class="spinner"></div>
        <span>Processing...</span>
    </div>

    <!-- Edit Modal -->
    <div class="modal hidden" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Edit Cell</h5>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Session Type:</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="sessionType" value="class" checked>
                            CLASS
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="sessionType" value="practice">
                            PRACTICE SESSION
                        </label>
                    </div>
                </div>
                
                <div id="classFields">
                    <div class="form-group">
                        <input type="text" class="form-control" id="crtFaculty" placeholder="CRT faculty name" autocomplete="off" autocomplete="new-password">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="whichClass" placeholder="which class" autocomplete="off" autocomplete="new-password">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="collegeFaculty" placeholder="college faculty name" autocomplete="off" autocomplete="new-password">
                    </div>
                </div>
                
                <div id="practiceFields" style="display: none;">
                    <div class="form-group">
                        <input type="text" class="form-control" id="practiceFaculty" placeholder="college faculty name" autocomplete="off" autocomplete="new-password">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" id="modalCancel">Cancel</button>
                <button class="btn btn--primary" id="modalSave">Save</button>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal hidden" id="authModal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Authentication Required</h5>
            </div>
            <div class="modal-body">
                <p>Please enter your email to continue:</p>
                <div class="form-group">
                    <input type="email" class="form-control" id="authEmail" placeholder="Enter your email" autocomplete="off" autocomplete="new-password">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--primary" id="authSubmit">Submit</button>
            </div>
        </div>
    </div>

    <!-- CSV Export Modal -->
    <div class="modal hidden" id="csvModal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">CSV Export</h5>
                <button class="modal-close" id="csvModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="export-status">
                    <p>✅ Your CSV file has been generated successfully!</p>
                    <div class="download-section">
                        <p><strong>File:</strong> <span id="fileName"></span></p>
                        <div class="download-instructions">
                            <h6>📋 Instructions:</h6>
                            <ol>
                                <li>The file will download automatically</li>
                                <li>Open the downloaded file with Microsoft Excel</li>
                                <li>Or double-click the file to open in your default spreadsheet application</li>
                            </ol>
                        </div>
                        <button class="btn btn--primary" id="downloadBtn">📥 Download Again</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal hidden" id="shareModal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Share Application</h5>
                <button class="modal-close" id="shareModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="share-options">
                    <div class="share-section">
                        <h6>📱 Social Media Platforms</h6>
                        <div class="share-buttons-grid">
                            <button class="share-btn whatsapp-btn" id="shareWhatsApp">
                                <span class="share-icon">💬</span>
                                WhatsApp
                            </button>
                            <button class="share-btn gmail-btn" id="shareGmail">
                                <span class="share-icon">📧</span>
                                Gmail
                            </button>
                            <button class="share-btn facebook-btn" id="shareFacebook">
                                <span class="share-icon">📘</span>
                                Facebook
                            </button>
                            <button class="share-btn twitter-btn" id="shareTwitter">
                                <span class="share-icon">🐦</span>
                                Twitter
                            </button>
                            <button class="share-btn linkedin-btn" id="shareLinkedIn">
                                <span class="share-icon">💼</span>
                                LinkedIn
                            </button>
                            <button class="share-btn telegram-btn" id="shareTelegram">
                                <span class="share-icon">✈️</span>
                                Telegram
                            </button>
                        </div>
                    </div>
                    <div class="share-section">
                        <h6>🔗 Direct Actions</h6>
                        <div class="share-buttons-grid">
                            <button class="share-btn copy-btn" id="copyLink">
                                <span class="share-icon">📋</span>
                                Copy Link
                            </button>
                            <button class="share-btn device-btn" id="deviceShare">
                                <span class="share-icon">📤</span>
                                Device Share
                            </button>
                        </div>
                    </div>
                    <div class="share-url">
                        <label class="form-label">Application URL:</label>
                        <input type="text" class="form-control" id="shareUrl" readonly>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Access Management Modal -->
    <div class="modal hidden" id="accessModal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Manage Access</h5>
                <button class="modal-close" id="accessModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="access-section">
                    <h6>👤 Current Status</h6>
                    <div class="current-status">
                        <p><strong>Logged in as:</strong> <span id="currentUserEmail">None</span></p>
                        <p><strong>Access Level:</strong> <span id="currentAccessLevel">Unauthorized</span></p>
                    </div>
                </div>
                
                <div class="access-section">
                    <h6>✅ Authorized Emails</h6>
                    <div id="authorizedEmailsList" class="emails-list"></div>
                    
                    <div class="add-email-section">
                        <div class="form-group">
                            <input type="email" class="form-control" id="newEmail" placeholder="Enter email address to add" autocomplete="off" autocomplete="new-password">
                        </div>
                        <button class="btn btn--primary" id="addEmailBtn">Add Email</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Saved Reports Modal -->
    <div class="modal hidden" id="reportsModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h5 class="modal-title">Saved Reports</h5>
                <button class="modal-close" id="reportsModalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div id="reportsList"></div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>